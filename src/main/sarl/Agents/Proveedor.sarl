/** 
 * 
 */
package Agents

import io.sarl.core.AgentKilled
import io.sarl.core.AgentSpawned
import io.sarl.core.ContextJoined
import io.sarl.core.ContextLeft
import io.sarl.core.Destroy
import io.sarl.core.Initialize
import io.sarl.core.Logging
import io.sarl.core.MemberJoined
import io.sarl.core.MemberLeft
import Events.buscarProductos
import Objects.Product
import io.sarl.core.DefaultContextInteractions
import Events.Bid
import java.util.List

/** 
 * @author Daniel
 * 
 */
agent Proveedor {
	uses Logging
	uses DefaultContextInteractions
	
	var productos: List<Product>
	@SuppressWarnings("java_style_type_cast")
	on Initialize{
		productos = occurrence.parameters.get(0) as List<Product>
	}
	
	on buscarProductos {
		for(p:productos){
			if(p.getCodigo() == occurrence.codigo) emit(new Bid(p.getPrecio(),p.getEnvio()))
		}
	}
	
}
